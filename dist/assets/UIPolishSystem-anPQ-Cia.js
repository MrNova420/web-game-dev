import{l as i}from"./index-Bf-_4h4A.js";import"./three-DTQjiZ7L.js";import"./cannon-DPZWuR6y.js";class c{constructor(){this.floatingNumbers=[],this.statusEffectPulses=new Map,this.barTransitions=new Map,this.assetPaths={uiPanel:"/assets/ui/panel.png",healthBar:"/assets/ui/health_bar.png",manaBar:"/assets/ui/mana_bar.png",xpBar:"/assets/ui/xp_bar.png",abilityFrame:"/assets/ui/ability_frame.png",tooltip:"/assets/ui/tooltip.png",questMarker:"/assets/icons/quest_marker.png",damageFont:"/assets/ui/damage_numbers.png"},this.damageColors={NORMAL:"#FFFFFF",CRITICAL:"#FFD700",POISON:"#00FF00",FIRE:"#FF4500",ICE:"#00CED1",LIGHTNING:"#FFFF00",HOLY:"#FFD700",DARK:"#8B008B",HEALING:"#32CD32"},this.statusPulseRates={BURNING:2,POISONED:1.5,FROZEN:.5,STUNNED:3,BUFFED:1},this.init()}init(){i.info("UIPolishSystem initialized with external assets"),i.info("- UI elements: Kenney UI Pack"),i.info("- Icons: game-icons.net (4000+ icons)"),i.info("- Fonts: Kenney")}createFloatingDamage(t,s,e){const a=this.damageColors[s]||this.damageColors.NORMAL,o=s==="CRITICAL"?1.5:1,n={damage:Math.floor(t),type:s,color:a,scale:o,position:e.clone(),velocity:new THREE.Vector3((Math.random()-.5)*.5,1+Math.random()*.5,0),lifetime:0,maxLifetime:2};this.floatingNumbers.push(n),i.info(`Floating damage: ${t} (${s}, color: ${a})`)}addStatusEffectPulse(t,s,e){const a=this.statusPulseRates[s]||1;this.statusEffectPulses.set(t,{type:s,iconPath:e,pulseRate:a,pulsePhase:0}),i.info(`Status effect added: ${s} (pulse rate: ${a}/s)`)}removeStatusEffectPulse(t){this.statusEffectPulses.delete(t)}transitionBar(t,s,e=.5){this.barTransitions.has(t)||this.barTransitions.set(t,{current:s});const a=this.barTransitions.get(t);a.target=s,a.duration=e,a.elapsed=0,a.startValue=a.current,i.info(`Bar transition: ${t} -> ${s} (${e}s)`)}triggerXPBarFill(t,s,e){i.info(`XP gained: +${t} (${s} -> ${e})`),this.transitionBar("xp",e,1),e>=1&&i.info("Level-up! XP bar glows gold")}showTooltip(t,s){i.info(`Tooltip shown: "${t}" at (${s.x}, ${s.y})`)}updateQuestMarker(t){}updateAbilityCooldown(t,s){s===0&&i.info(`Ability ready: ${t} (icon glows)`)}update(t){this.floatingNumbers=this.floatingNumbers.filter(s=>(s.lifetime+=t,s.position.add(s.velocity.clone().multiplyScalar(t)),s.velocity.y-=t*2,s.lifetime<s.maxLifetime)),this.statusEffectPulses.forEach((s,e)=>{s.pulsePhase+=t*s.pulseRate*Math.PI*2,s.pulsePhase=s.pulsePhase%(Math.PI*2)}),this.barTransitions.forEach((s,e)=>{if(s.target!==void 0&&s.elapsed<s.duration){s.elapsed+=t;const a=Math.min(s.elapsed/s.duration,1),o=1-Math.pow(1-a,3);s.current=s.startValue+(s.target-s.startValue)*o}})}getBarValue(t){const s=this.barTransitions.get(t);return s?s.current:0}}export{c as UIPolishSystem};
