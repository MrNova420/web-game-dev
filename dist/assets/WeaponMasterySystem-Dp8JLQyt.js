class a{constructor(){this.masteryLevels=new Map,this.weaponTypes=["SWORD","AXE","SPEAR","DAGGER","HAMMER","BOW","STAFF","WAND","GREATSWORD","DUAL_WIELD"],this.masteryTiers={NOVICE:{level:0,bonus:1,icon:"/assets/icons/mastery/novice.png"},APPRENTICE:{level:10,bonus:1.1,icon:"/assets/icons/mastery/apprentice.png"},ADEPT:{level:25,bonus:1.2,icon:"/assets/icons/mastery/adept.png"},EXPERT:{level:50,bonus:1.35,icon:"/assets/icons/mastery/expert.png"},MASTER:{level:75,bonus:1.5,icon:"/assets/icons/mastery/master.png"},GRANDMASTER:{level:100,bonus:2,icon:"/assets/icons/mastery/grandmaster.png"}},this.unlockableMoves={SWORD:{10:"Whirlwind Slash",25:"Iaijutsu Quick Draw",50:"Thousand Cuts",75:"Divine Judgement",100:"Blade Master Stance"},AXE:{10:"Rending Strike",25:"Berserker Rage",50:"Splitting Maul",75:"Execute",100:"Titan's Wrath"}}}gainExperience(e,r,n){const t=`${e}_${r}`,s=this.masteryLevels.get(t)||{level:0,xp:0};s.xp+=n;const i=this.calculateXPNeeded(s.level);s.xp>=i&&(s.level++,s.xp-=i,logger.info(`${e} reached ${r} mastery level ${s.level}!`),this.checkUnlocks(e,r,s.level)),this.masteryLevels.set(t,s)}checkUnlocks(e,r,n){const t=this.unlockableMoves[r];t&&t[n]&&logger.info(`${e} unlocked: ${t[n]}`);const s=this.getCurrentTier(n);logger.info(`${e} ${r} mastery: ${s}`),logger.info(`  Icon: ${this.masteryTiers[s].icon}`),logger.info(`  Bonus: ${this.masteryTiers[s].bonus}x`)}getCurrentTier(e){return e>=100?"GRANDMASTER":e>=75?"MASTER":e>=50?"EXPERT":e>=25?"ADEPT":e>=10?"APPRENTICE":"NOVICE"}getDamageBonus(e,r){const n=`${e}_${r}`,t=this.masteryLevels.get(n);if(!t)return 1;const s=this.getCurrentTier(t.level);return this.masteryTiers[s].bonus}calculateXPNeeded(e){return Math.floor(100*Math.pow(1.1,e))}}export{a as WeaponMasterySystem};
