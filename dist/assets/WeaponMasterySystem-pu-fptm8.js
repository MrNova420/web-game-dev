class a{constructor(){this.masteryLevels=new Map,this.weaponTypes=["SWORD","AXE","SPEAR","DAGGER","HAMMER","BOW","STAFF","WAND","GREATSWORD","DUAL_WIELD"],this.masteryTiers={NOVICE:{level:0,bonus:1,icon:"/assets/icons/mastery/novice.png"},APPRENTICE:{level:10,bonus:1.1,icon:"/assets/icons/mastery/apprentice.png"},ADEPT:{level:25,bonus:1.2,icon:"/assets/icons/mastery/adept.png"},EXPERT:{level:50,bonus:1.35,icon:"/assets/icons/mastery/expert.png"},MASTER:{level:75,bonus:1.5,icon:"/assets/icons/mastery/master.png"},GRANDMASTER:{level:100,bonus:2,icon:"/assets/icons/mastery/grandmaster.png"}},this.unlockableMoves={SWORD:{10:"Whirlwind Slash",25:"Iaijutsu Quick Draw",50:"Thousand Cuts",75:"Divine Judgement",100:"Blade Master Stance"},AXE:{10:"Rending Strike",25:"Berserker Rage",50:"Splitting Maul",75:"Execute",100:"Titan's Wrath"}}}gainExperience(e,n,r){const t=`${e}_${n}`,s=this.masteryLevels.get(t)||{level:0,xp:0};s.xp+=r;const o=this.calculateXPNeeded(s.level);s.xp>=o&&(s.level++,s.xp-=o,console.log(`${e} reached ${n} mastery level ${s.level}!`),this.checkUnlocks(e,n,s.level)),this.masteryLevels.set(t,s)}checkUnlocks(e,n,r){const t=this.unlockableMoves[n];t&&t[r]&&console.log(`${e} unlocked: ${t[r]}`);const s=this.getCurrentTier(r);console.log(`${e} ${n} mastery: ${s}`),console.log(`  Icon: ${this.masteryTiers[s].icon}`),console.log(`  Bonus: ${this.masteryTiers[s].bonus}x`)}getCurrentTier(e){return e>=100?"GRANDMASTER":e>=75?"MASTER":e>=50?"EXPERT":e>=25?"ADEPT":e>=10?"APPRENTICE":"NOVICE"}getDamageBonus(e,n){const r=`${e}_${n}`,t=this.masteryLevels.get(r);if(!t)return 1;const s=this.getCurrentTier(t.level);return this.masteryTiers[s].bonus}calculateXPNeeded(e){return Math.floor(100*Math.pow(1.1,e))}}export{a as WeaponMasterySystem};
